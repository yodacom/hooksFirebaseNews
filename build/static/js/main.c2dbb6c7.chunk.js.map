{"version":3,"sources":["components/Auth/useFormValidation.js","components/Auth/validateCreateLink.js","firebase/context.js","components/Link/CreateLink.js","components/Auth/validateLogin.js","firebase/config.js","firebase/index.js","firebase/firebase.js","components/Auth/Login.js","components/Auth/ForgotPassword.js","utils/index.js","components/Link/LinkItem.js","components/Link/SearchLinks.js","components/Link/LinkList.js","components/Link/LinkDetail.js","components/Header.js","components/Auth/useAuth.js","components/App.js","serviceWorker.js","index.js"],"names":["useFormValidation","initialState","validate","authenticate","_React$useState","React","useState","_React$useState2","Object","slicedToArray","values","setValues","_React$useState3","_React$useState4","errors","setErrors","_React$useState5","_React$useState6","isSubmitting","setSubmitting","useEffect","keys","length","handleSubmit","event","preventDefault","validationErrors","handleBlur","handleChange","persist","previousValues","objectSpread","defineProperty","target","name","value","validateCreateLink","description","url","test","FirebaseContext","createContext","INITIAL_STATE","CreateLink","props","_React$useContext","useContext","firebase","user","_useFormValidation","newLink","postedBy","id","uid","displayName","voteCount","votes","comments","created","Date","now","db","collection","add","history","push","react_default","a","createElement","onSubmit","className","onChange","placeholder","autoComplete","type","validateLogin","email","password","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Firebase","classCallCheck","this","app","initializeApp","auth","firestore","createUserWithEmailAndPassword","newUser","updateProfile","signInWithEmailAndPassword","signOut","sendPasswordResetEmail","Login","_authenticateUser","apply","arguments","login","setLogin","firebaseError","setFirebaseError","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","register","t0","console","error","message","stop","onBlur","disabled","style","background","onClick","prevLogin","react_router_dom","to","ForgotPassword","resetPasswordEmail","setResetPasswordEmail","isPasswordReset","setIsPasswordReset","passwordResetError","setPasswordResetError","_handleResetPassword","resetPassword","LINKS_PER_PAGE","withRouter","_ref","link","index","showCount","postedByAuthUser","voteRef","doc","get","then","exists","previousVotes","data","vote","votedBy","updatedVotes","concat","toConsumableArray","update","href","replace","distanceInWordsToNow","Fragment","delete","log","catch","err","SearchLinks","filteredLinks","setFilteredLinks","links","setLinks","filter","setFilter","snapshot","docs","map","query","toLowerCase","matchedLinks","includes","filteredLink","Link_LinkItem","key","LinkList","cursor","setCursor","loading","setLoading","isNewPage","location","pathname","isTopPage","page","Number","match","params","linksRef","handleSnapshot","lastLink","unsubscribe","hasCursor","Boolean","orderBy","limit","onSnapshot","startAfter","offset","axios","response","getLinks","pageIndex","opacity","LinkDetail","setLink","commentText","setCommentText","linkId","linkRef","rows","cols","previousComments","comment","text","updatedComments","prevState","src","alt","logout","useAuth","authUser","setAuthUser","onAuthStateChanged","App","context","Provider","components_Header","react_router","exact","path","render","component","window","hostname","ReactDOM","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c2dbb6c7.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction useFormValidation(initialState, validate, authenticate) {\n  const [values, setValues] = React.useState(initialState)\n  const [errors, setErrors] = React.useState({})\n  const [isSubmitting, setSubmitting ] = React.useState(false)\n\n  React.useEffect(() => {\n    if (isSubmitting) {\n      const noErrors = Object.keys(errors).length === 0\n      if (noErrors) {\n        authenticate()\n        setSubmitting(false)\n      } else {\n        setSubmitting(false)\n    }\n    }\n\n  }, [errors])\n\n\n  function handleChange(event) {\n    event.persist();\n    setValues(previousValues => ({\n      ...previousValues,\n      [event.target.name]: event.target.value\n    }));\n  }\n\n  function handleBlur() {\n    const validationErrors = validate(values)\n    setErrors(validationErrors)\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault()\n    const validationErrors = validate(values)\n    setErrors(validationErrors)\n    setSubmitting(true);\n\n  }\n  return {\n    handleSubmit,\n    handleBlur,\n    handleChange,\n    values,\n    errors,\n    isSubmitting\n  };\n}\n\nexport default useFormValidation;\n","export default function validateCreateLink(values) {\n  let errors = {};\n\n  // Description Errors\n  if (!values.description) {\n    errors.description = \"Description required\";\n  } else if (values.description.length < 10) {\n    errors.description = \"Description must be at least 10 characters\";\n  }\n  // Url Errors\n  if (!values.url) {\n    errors.url = \"URL required\";\n  } else if (!/^(ftp|http|https):\\/\\/[^ \"]+$/.test(values.url)) {\n    errors.url = \"URL must be valid\";\n  }\n\n  return errors;\n}\n","import React from 'react';\n\nconst FirebaseContext = React.createContext(null);\n\nexport default FirebaseContext;","import React from \"react\"\nimport useFormValidation from \"../Auth/useFormValidation\";\nimport validateCreateLink from \"../Auth/validateCreateLink\";\nimport FirebaseContext from \"../../firebase/context\";\n\nconst INITIAL_STATE = {\n  description: \"\",\n  url: \"\"\n};\n\nfunction CreateLink(props) {\n  const {firebase, user} = React.useContext(FirebaseContext)\n  const { handleSubmit, handleChange, values, errors } = useFormValidation(\n    INITIAL_STATE,\n    validateCreateLink,\n    handleCreateLink\n  );\n\n  function handleCreateLink() {\n    if (!user) {\n      props.history.push('./login')\n    } else {\n      const { url, description } = values\n      const newLink = {\n        url,\n        description,\n        postedBy: {\n          id: user.uid,\n          name: user.displayName\n        },\n        voteCount: 0,\n        votes: [],\n        comments: [],\n        created: Date.now()\n      }\n      firebase.db.collection('links').add(newLink);\n      props.history.push('/');\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"flex flex-column mt3\">\n      <input\n        onChange={handleChange}\n        value={values.description}\n        name=\"description\"\n        placeholder=\"A description for your link\"\n        autoComplete=\"off\"\n        type=\"text\"\n        className={errors.description && \"error-input\"}\n      />\n      {errors.description && <p className=\"error-text\">{errors.description}</p>}\n      <input\n        onChange={handleChange}\n        value={values.url}\n        name=\"url\"\n        placeholder=\"The URL for the link\"\n        autoComplete=\"off\"\n        type=\"url\"\n        className={errors.url && \"error-input\"}\n      />\n      {errors.url && <p className=\"error-text\">{errors.url}</p>}\n      <button className=\"button\" type=\"submit\">\n        Submit\n      </button>\n    </form>\n  );\n}\n\nexport default CreateLink;\n\n","export default function validateLogin(values) {\n  let errors = {}\n\n  // email Errors\n  if (!values.email) {\n    errors.email = \"Email required\"\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n    errors.email = \"Invalid email address\"\n  }\n  // password errors\n  if (!values.password) {\n    errors.password = \"Password required\"\n  } else if (values.password.length < 6) {\n    errors.password = \"Password must be at least 6 characters\"\n  }\n  \n  return errors;\n  }\n\n","// Your web app's Firebase configuration\nvar firebaseConfig = {\n  apiKey: \"AIzaSyCNc-FiaYL2ouaC-B4eK3tEHncT1QT8wrE\",\n  authDomain: \"hooks-news-app-1c110.firebaseapp.com\",\n  databaseURL: \"https://hooks-news-app-1c110.firebaseio.com\",\n  projectId: \"hooks-news-app-1c110\",\n  storageBucket: \"hooks-news-app-1c110.appspot.com\",\n  messagingSenderId: \"257285402898\",\n  appId: \"1:257285402898:web:921d6ffda70a589d8dc3cb\"\n};\n\nexport default firebaseConfig\n","import firebase from './firebase';\nimport FirebaseContext from './context';\n\nexport { FirebaseContext };\nexport default firebase;","import app from 'firebase/app'\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nimport firebaseConfig from \"./config\";\n\n// Initialize Firebase\nclass Firebase {\n  constructor() {\n    app.initializeApp(firebaseConfig);\n    this.auth = app.auth();\n    this.db = app.firestore()\n\n  }\n\n  async register(name, email, password) {\n    const newUser = await this.auth.createUserWithEmailAndPassword(\n      email,\n      password\n    )\n    return await newUser.user.updateProfile({\n      displayName: name\n    })\n  }\n\n  async login(email, password) {\n    return await this.auth.signInWithEmailAndPassword(email, password);\n  }\n\n  async logout() {\n    await this.auth.signOut()\n  }\n\n  async resetPassword(email) {\n    await this.auth.sendPasswordResetEmail(email);\n  }\n}\n\n\nconst firebase = new Firebase()\nexport default firebase;","import React from \"react\";\nimport useFormValidation from \"./useFormValidation\";\nimport validateLogin from \"./validateLogin\";\nimport firebase from \"../../firebase\";\nimport { Link } from \"react-router-dom\";\n\nconst INITIAL_STATE = {\n  name: \"\",\n  email: \"\",\n  password: \"\"\n};\n\nfunction Login(props) {\n  const {\n    handleSubmit,\n    handleBlur,\n    handleChange,\n    values,\n    errors,\n    isSubmitting\n  } = useFormValidation(INITIAL_STATE, validateLogin, authenticateUser);\n  const [login, setLogin] = React.useState(true);\n  const [firebaseError, setFirebaseError] = React.useState(null);\n\n  async function authenticateUser() {\n    const { name, email, password } = values;\n    try {\n      login\n        ? await firebase.login(email, password)\n        : await firebase.register(name, email, password);\n      props.history.push(\"/\");\n    } catch (err) {\n      console.error(\"Authentication Error\", err);\n      setFirebaseError(err.message);\n    }\n  }\n\n  return (\n    <div>\n      <h2 className=\"mv3\">{login ? \"Login\" : \"Create Account\"}</h2>\n      <form onSubmit={handleSubmit} className=\"flex flex-column\">\n        {!login && (\n          <input\n            onChange={handleChange}\n            value={values.name}\n            name=\"name\"\n            type=\"text\"\n            placeholder=\"Your name\"\n            autoComplete=\"off\"\n          />\n        )}\n        <input\n          onChange={handleChange}\n          onBlur={handleBlur}\n          value={values.email}\n          name=\"email\"\n          type=\"email\"\n          className={errors.email && \"error-input\"}\n          placeholder=\"Your email\"\n          autoComplete=\"off\"\n        />\n        {errors.email && <p className=\"error-text\">{errors.email}</p>}\n        <input\n          onChange={handleChange}\n          onBlur={handleBlur}\n          value={values.password}\n          className={errors.password && \"error-input\"}\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Choose a secure password\"\n        />\n        {errors.password && <p className=\"error-text\">{errors.password}</p>}\n        {firebaseError && <p className=\"error-text\">{firebaseError}</p>}\n        <div className=\"flex mt3\">\n          <button\n            type=\"submit\"\n            className=\"button pointer mr2\"\n            disabled={isSubmitting}\n            style={{ background: isSubmitting ? \"grey\" : \"orange\" }}\n          >\n            Submit\n          </button>\n          <button\n            type=\"button\"\n            className=\"pointer button\"\n            onClick={() => setLogin(prevLogin => !prevLogin)}\n          >\n            {login ? \"need to create an account?\" : \"already have an account?\"}\n          </button>\n        </div>\n      </form>\n      <div className=\"forgot-password\">\n        <Link to=\"/forgot\">Forgot Password</Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;","import React from \"react\";\nimport FirebaseContext from \"../../firebase/context\";\n\nfunction ForgotPassword() {\n  const { firebase } = React.useContext(FirebaseContext);\n  const [resetPasswordEmail, setResetPasswordEmail] = React.useState(\"\");\n  const [isPasswordReset, setIsPasswordReset] = React.useState(false);\n  const [passwordResetError, setPasswordResetError] = React.useState(null);\n\n  async function handleResetPassword() {\n    try {\n      await firebase.resetPassword(resetPasswordEmail);\n      setIsPasswordReset(true);\n      setPasswordResetError(null);\n    } catch (err) {\n      console.error(\"Error sending email\", err);\n      setPasswordResetError(err.message);\n      setIsPasswordReset(false);\n    }\n  }\n\n  return (\n    <div>\n      <input\n        type=\"email\"\n        className=\"input\"\n        placeholder=\"Provide your account email\"\n        onChange={event => setResetPasswordEmail(event.target.value)}\n      />\n      <div>\n        <button className=\"button\" onClick={handleResetPassword}>\n          Reset Password\n        </button>\n      </div>\n      {isPasswordReset && <p>Check email to reset password</p>}\n      {passwordResetError && <p className=\"error-text\">{passwordResetError}</p>}\n    </div>\n  );\n}\n\nexport default ForgotPassword;\n","export const LINKS_PER_PAGE = 5;\n\nexport function getDomain(url) {\n  return url.replace(/^https?:\\/\\//i, \"\");\n}\n\n/* EMAIL REGEX: !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email) */\n/* URL REGEX: !/^(ftp|http|https):\\/\\/[^ \"]+$/.test(values.url) */\n","import React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { getDomain } from \"../../utils\";\nimport distanceInWordsToNow from \"date-fns/distance_in_words_to_now\";\nimport FirebaseContext from \"../../firebase/context\";\n\nfunction LinkItem({ link, index, showCount, history }) {\n  const { firebase, user } = React.useContext(FirebaseContext);\n\n  function handleVote() {\n    if (!user) {\n      history.push(\"/login\");\n    } else {\n      const voteRef = firebase.db.collection(\"links\").doc(link.id);\n      voteRef.get().then(doc => {\n        if (doc.exists) {\n          const previousVotes = doc.data().votes;\n          const vote = { votedBy: { id: user.uid, name: user.displayName } };\n          const updatedVotes = [...previousVotes, vote];\n          const voteCount = updatedVotes.length\n          voteRef.update({ votes: updatedVotes, voteCount });\n        }\n      });\n    }\n  }\n\nconst postedByAuthUser = user && user.uid === link.postedBy.id\n\n  function handleDeleteLink() {\n    const linkRef = firebase.db.collection(\"links\").doc(link.id);\n    linkRef.delete().then(() => {\n      console.log(`Document with ID ${link.id} deleted`)\n    }).catch(err => {\n      console.error(\"Error deleting document:, err\")\n    })\n  }\n\n  return (\n    <div className=\"flex items-start mt2\">\n      <div className=\"flex items-center\">\n        {showCount && <span className=\"gray\">{index}.</span>}\n        <div className=\"vote-button\" onClick={handleVote}>\n          ▲\n        </div>\n      </div>\n      <div className=\"ml1\">\n        <div>\n          <a href={link.url} className=\"black no-underline\">\n            {link.description}\n          </a>{\" \"}\n          <span className=\"link\">({getDomain(link.url)})</span>\n        </div>\n        <div className=\"f6 lh-copy gray\">\n          {link.voteCount} votes by {link.postedBy.name}{\" \"}\n          {distanceInWordsToNow(link.created)}\n          {\" | \"}\n          <Link to={`/link/${link.id}`}>\n            {link.comments.length > 0\n              ? `${link.comments.length} comments`\n              : \"discuss\"}\n          </Link>\n          {postedByAuthUser && (\n            <>\n              {\" | \"}\n              <span className=\"delete-button\" onClick={handleDeleteLink}>\n                {\" \"}\n                delete{\" \"}\n              </span>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(LinkItem);\n","import React from \"react\";\nimport LinkItem from \"./LinkItem\";\nimport FirebaseContext from \"../../firebase/context\";\n\nfunction SearchLinks() {\n  const { firebase } = React.useContext(FirebaseContext)\n  const [filteredLinks, setFilteredLinks] = React.useState([])\n  const [links, setLinks] = React.useState([]);\n  const [filter, setFilter] = React.useState(\"\")\n\n  React.useEffect(() => {\n    getInitialLinks()\n  }, [])\n\n  function getInitialLinks() {\n    firebase.db.collection('links').get().then(snapshot => {\n      const links = snapshot.docs.map(doc => {\n        return { id: doc.id, ...doc.data() }\n      })\n      setLinks(links)\n    })\n  }\n\n  function handleSearch(event) {\n    event.preventDefault();\n    const query = filter.toLowerCase()\n    const matchedLinks = links.filter(link => {\n      return (\n        link.description.toLowerCase().includes(query) ||\n        link.url.toLowerCase().includes(query) ||\n        link.postedBy.name.toLowerCase().includes(query)\n      );\n    });\n    setFilteredLinks(matchedLinks)\n  }\n\n  return (\n    <div>\n    <form onSubmit={handleSearch}>\n      <div>\n        Search <input onChange={event => setFilter(event.target.value)} />\n        <button>OK</button>\n      </div>\n    </form>\n      {filteredLinks.map((filteredLink, index) => (\n        <LinkItem\n          key={filteredLink.id}\n          showCount={false}\n          link={filteredLink}\n          index={index} />\n    ))}\n    </div>\n  );\n}\n\nexport default SearchLinks;\n","import React from \"react\";\nimport FirebaseContext from \"../../firebase/context\";\nimport LinkItem from \"./LinkItem\";\nimport { LINKS_PER_PAGE } from \"../../utils/index\";\nimport axios from 'axios';\n\nfunction LinkList(props) {\n  const { firebase } = React.useContext(FirebaseContext);\n  const [links, setLinks] = React.useState([]);\n  const [cursor, setCursor] = React.useState(null);\n  const [loading, setLoading] = React.useState(false);\n  const isNewPage = props.location.pathname.includes(\"new\");\n  const isTopPage = props.location.pathname.includes(\"top\");\n  const page = Number(props.match.params.page)\n  const linksRef = firebase.db\n        .collection(\"links\")\n\n\n  React.useEffect(() => {\n    const unsubscribe = getLinks();\n    return () => unsubscribe();\n  }, [isTopPage, page]);\n\n  function getLinks() {\n    const hasCursor = Boolean(cursor);\n    setLoading(true);\n    if (isTopPage) {\n      return linksRef\n      .orderBy('voteCount', 'desc')\n      .limit(LINKS_PER_PAGE)\n      .onSnapshot(handleSnapshot);\n\n    } else if (page === 1) {\n      return linksRef\n        .orderBy('created', 'desc')\n        .limit(LINKS_PER_PAGE)\n        .onSnapshot(handleSnapshot);\n    } else if (hasCursor) {\n      return linksRef\n        .orderBy(\"created\", \"desc\")\n        .startAfter(cursor.created)\n        .limit(LINKS_PER_PAGE)\n        .onSnapshot(handleSnapshot);\n    } else {\n      const offset = page * LINKS_PER_PAGE - LINKS_PER_PAGE\n      axios.get(\n        `https://us-central1-hooks-news-app-1c110.cloudfunctions.net/linksPagination?offset=${offset}`)\n        .then(response => {\n          const links = response.data;\n          const lastLink = links[links.length - 1]\n          setLinks(links)\n          setCursor(lastLink)\n          setLoading(false);\n        });\n\n      return () => {};\n    }\n  }\n\n  function handleSnapshot(snapshot) {\n    const links = snapshot.docs.map(doc => {\n      return { id: doc.id, ...doc.data() };\n    });\n    const lastLink = links[links.length - 1];\n    setLinks(links);\n    setCursor(lastLink);\n    setLoading(false);\n  }\n\n  function visitPreviousPage() {\n    if (page > 1) {\n      props.history.push(`/new/${page - 1}`);\n    }\n  }\n\n  function visitNextPage() {\n    if (page <= links.length / LINKS_PER_PAGE) {\n      props.history.push(`/new/${page + 1}`);\n    }\n  }\n  const pageIndex = page ? (page - 1) * LINKS_PER_PAGE + 1 : 0;\n\n\n  return (\n    <div style={{ opacity: loading ? 0.25 : 1 }}>\n      {links.map((link, index) => (\n        <LinkItem\n          key={link.id}\n          showCount={true}\n          link={link}\n          index={index + pageIndex}\n        />\n      ))}\n      {isNewPage && (\n        <div className=\"pagination\">\n          <div className=\"pointer mr2 \" onClick={visitPreviousPage}> Previous </div>\n          <div className=\"pointer\" onClick={visitNextPage}> Next </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default LinkList;\n\n","import React from \"react\";\nimport FirebaseContext from '../../firebase/context';\nimport LinkItem from \"./LinkItem\";\nimport distanceInWordsToNow from \"date-fns/distance_in_words_to_now\";\n\nfunction LinkDetail(props) {\n  const { firebase, user } = React.useContext(FirebaseContext);\n  const [link, setLink] = React.useState(null);\n  const [commentText, setCommentText] = React.useState(\"\");\n  const linkId = props.match.params.linkId;\n  const linkRef = firebase.db.collection(\"links\").doc(linkId);\n\n  React.useEffect(() => {\n    getLink()\n  }, [])\n\n  function getLink() {\n    linkRef.get().then(doc => {\n      setLink({ ...doc.data(), id: doc.id });\n    });\n  }\n\n  function handleAddComment() {\n    if (!user) {\n      props.history.push(\"/login\")\n    } else {\n      linkRef.get().then(doc => {\n        if (doc.exists) {\n          const previousComments = doc.data().comments\n          const comment = {\n            postedBy: { id: user.uid, name: user.displayName },\n            created: Date.now(),\n            text: commentText\n          }\n          const updatedComments = [...previousComments, comment]\n          linkRef.update({ comments: updatedComments })\n          setLink(prevState => ({\n            ...prevState,\n            comments: updatedComments\n          }))\n          setCommentText(\"\")\n\n        }\n      })\n    }\n  }\n  return !link ? (\n    <div>Loading...</div>\n  ) : (\n      <div>\n        <LinkItem showCount={false} link={link} />\n        <textarea\n          onChange={event => setCommentText(event.target.value)}\n          value={commentText}\n          rows='6'\n          cols='60'\n        />\n        <div>\n          <button className=\"button\" onClick={handleAddComment}>\n            Add Comment\n          </button>\n        </div>\n        {link.comments.map((comment, index) => (\n          <div key={index}>\n            <p className=\"comment-author\">\n              {comment.postedBy.name} | {distanceInWordsToNow(comment.created)}\n           </p>\n            <p>\n              {comment.text}\n            </p>\n          </div>\n        ))}\n      </div>\n  )\n}\n\nexport default LinkDetail;\n","import React from \"react\";\nimport { withRouter, NavLink } from \"react-router-dom\";\nimport { FirebaseContext } from \"../firebase\";\n\nfunction Header() {\n  const { user, firebase } = React.useContext(FirebaseContext);\n\n  return (\n    <div className=\"header\">\n      <div className=\"flex\">\n        <img src=\"/logo.png\" alt=\"Hooks News Logo\" className=\"logo\" />\n        <NavLink to=\"/\" className=\"header-title\">\n          Hooks News\n        </NavLink>\n        <NavLink to=\"/\" className=\"header-link\">\n          new\n        </NavLink>\n        <div className=\"divider\">|</div>\n        <NavLink to=\"/top\" className=\"header-link\">\n          top\n        </NavLink>\n        <div className=\"divider\">|</div>\n        <NavLink to=\"/search\" className=\"header-link\">\n          search\n        </NavLink>\n        {user && (\n          <>\n            <div className=\"divider\">|</div>\n            <NavLink to=\"/create\" className=\"header-link\">\n              submit\n            </NavLink>\n          </>\n        )}\n      </div>\n      <div className=\"flex\">\n        {user ? (\n          <>\n            <div className=\"header-name\">{user.displayName}</div>\n            <div className=\"divider\">|</div>\n            <div className=\"header-button\" onClick={() => firebase.logout()}>\n              logout\n            </div>\n          </>\n        ) : (\n          <NavLink to=\"/login\" className=\"header-link\">\n            login\n          </NavLink>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Header);\n","import React from \"react\";\nimport firebase from \"../../firebase\";\n\nfunction useAuth() {\n  const [authUser, setAuthUser] = React.useState(null);\n\n  React.useEffect(() => {\n    const unsubscribe = firebase.auth.onAuthStateChanged(user => {\n      if (user) {\n        setAuthUser(user);\n      } else {\n        setAuthUser(null);\n      }\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  return authUser;\n}\n\nexport default useAuth;\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\nimport CreateLink from \"./Link/CreateLink\";\nimport Login from \"./Auth/Login\";\nimport ForgotPassword from \"./Auth/ForgotPassword\";\nimport SearchLinks from \"./Link/SearchLinks\";\nimport LinkList from \"./Link/LinkList\";\nimport LinkDetail from \"./Link/LinkDetail\";\nimport Header from \"./Header\";\nimport useAuth from \"./Auth/useAuth\";\nimport firebase, { FirebaseContext } from \"../firebase\";\n\nfunction App() {\n  const user = useAuth();\n\n  return (\n    <BrowserRouter>\n      <FirebaseContext.Provider value={{ user, firebase }}>\n        <div className=\"app-container\">\n          <Header />\n          <div className=\"route-container\">\n            <Switch>\n              <Route exact path=\"/\" render={() => <Redirect to=\"/new/1\" />} />\n              <Route path=\"/create\" component={CreateLink} />\n              <Route path=\"/login\" component={Login} />\n              <Route path=\"/forgot\" component={ForgotPassword} />\n              <Route path=\"/search\" component={SearchLinks} />\n              <Route path=\"/top\" component={LinkList} />\n              <Route path=\"/new/:page\" component={LinkList} />\n              <Route path=\"/link/:linkId\" component={LinkDetail} />\n            </Switch>\n          </div>\n        </div>\n      </FirebaseContext.Provider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}